{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"bt-trx Dokumentation Hinweis Aktuelle Hardware-Version: v5.0 Aktuelle Firmware-Version: v1.1.0 Diese Dokumentation ist unter der CC BY-SA 4.0 lizensiert.","title":"Startseite"},{"location":"10_Allgemein/Kompatibilit%C3%A4tsliste/","text":"Kompatibilit\u00e4tsliste \u00b6 Hinweis Diese Daten beziehen sich auf die Firmware Version 1.0.1. Wir freuen uns \u00fcber Erfahrungsberichte mit hier gelisteten oder neuen Modellen, um die Liste noch weiter ausbauen zu k\u00f6nnen! Autoradios \u00b6 Dies ist keine abgeschlossene Liste, sondern nur eine Sammlung an Fahrzeugen und Ger\u00e4ten, mit denen bt-trx von Benutzern bereits getestet wurde und funktioniert. Sollte man ein \u00e4hnliches Radio/Fahrzeug besitzen, stehen die Chancen nicht schlecht, dass es ebenso funktioniert - aber es gibt nat\u00fcrlich keine Garantie daf\u00fcr. Integrierte Radios \u00b6 Typ Baujahr Funktioniert? Kommentar Audi Q5 2013 ja MMI 5507 BMW 2er 2019 ja Citro\u00ebn C5 2019 ja Fiat Fiorino ja Die vom Fahrzeug vorgegebene PIN muss im bt-trx Webinterface eingestellt werden. Ford Ranger ja Jeep Wrangler Work in Progress Mercedes A-Klasse 2012 ja Radio: Audio 20 Mercedes GLC 2017 ja Mini Cooper 2009 ja Pineingabe am Fahrzeug notwendig (bei bt-trx voreingestellt: 0000) Nissan Qashqai ja Die vom Fahrzeug vorgegebene PIN muss im bt-trx Webinterface eingestellt werden. SEAT Ateca 2018 ja Skoda Octavia 5E 2013 ja Radio: Columbus Tesla Model S ja Volvo XC60 ja VW Caddy 2014 ja Radio: RCD330+ VW Passat 2017 ja Radio: Discover Pro Zubeh\u00f6rradios \u00b6 Typ Funktioniert? Kommentar Kenwood DMX7017DABS ja -- Kenwood KDC-X7200DAB ja -- Pioneer AVH-X3500DAB ja -- Pioneer AVH-Z5100DAB ja -- Headsets \u00b6 Typ Funktioniert? Kommentar Fontastic NAT+ ja -- Jabra Evolve 65 ja -- Jabra Freeway HFS100 ja -- YAESU SSM-BT10 ja -- BLE (Bluetooth Low Energy) PTT Buttons \u00b6 Typ Funktioniert? Kommentar Anytone PTT Button ja Button f\u00fcr Anytone AT-D578UV / AT-D878UV (BP-01) Funkger\u00e4te \u00b6 Typ Funktioniert? Kommentar Anytone AT-D878UV ja -- Icom IC-7000 ja -- Icom ID-4100 ja -- Icom ID-5100 ja -- Kenwood TM-D700 ja -- Kenwood TM-D710 ja -- Kenwood TM-V71 ja Versorgungsspannung aus Mike-Buchse reicht nicht Tytera MD-380 / MD-390 ja -- Wouxun KG-UV6D ja -- Yaesu FTM-100 ja -- Yaesu FTM-350 ja 1) Yaesu FT-7900 ja 1) Yaesu FT-8800 ja 1) 1) Dauer-PTT Fix","title":"Kompatibilit\u00e4tsliste"},{"location":"10_Allgemein/Kompatibilit%C3%A4tsliste/#kompatibilitatsliste","text":"Hinweis Diese Daten beziehen sich auf die Firmware Version 1.0.1. Wir freuen uns \u00fcber Erfahrungsberichte mit hier gelisteten oder neuen Modellen, um die Liste noch weiter ausbauen zu k\u00f6nnen!","title":"Kompatibilit\u00e4tsliste"},{"location":"10_Allgemein/Kompatibilit%C3%A4tsliste/#autoradios","text":"Dies ist keine abgeschlossene Liste, sondern nur eine Sammlung an Fahrzeugen und Ger\u00e4ten, mit denen bt-trx von Benutzern bereits getestet wurde und funktioniert. Sollte man ein \u00e4hnliches Radio/Fahrzeug besitzen, stehen die Chancen nicht schlecht, dass es ebenso funktioniert - aber es gibt nat\u00fcrlich keine Garantie daf\u00fcr.","title":"Autoradios"},{"location":"10_Allgemein/Kompatibilit%C3%A4tsliste/#integrierte-radios","text":"Typ Baujahr Funktioniert? Kommentar Audi Q5 2013 ja MMI 5507 BMW 2er 2019 ja Citro\u00ebn C5 2019 ja Fiat Fiorino ja Die vom Fahrzeug vorgegebene PIN muss im bt-trx Webinterface eingestellt werden. Ford Ranger ja Jeep Wrangler Work in Progress Mercedes A-Klasse 2012 ja Radio: Audio 20 Mercedes GLC 2017 ja Mini Cooper 2009 ja Pineingabe am Fahrzeug notwendig (bei bt-trx voreingestellt: 0000) Nissan Qashqai ja Die vom Fahrzeug vorgegebene PIN muss im bt-trx Webinterface eingestellt werden. SEAT Ateca 2018 ja Skoda Octavia 5E 2013 ja Radio: Columbus Tesla Model S ja Volvo XC60 ja VW Caddy 2014 ja Radio: RCD330+ VW Passat 2017 ja Radio: Discover Pro","title":"Integrierte Radios"},{"location":"10_Allgemein/Kompatibilit%C3%A4tsliste/#zubehorradios","text":"Typ Funktioniert? Kommentar Kenwood DMX7017DABS ja -- Kenwood KDC-X7200DAB ja -- Pioneer AVH-X3500DAB ja -- Pioneer AVH-Z5100DAB ja --","title":"Zubeh\u00f6rradios"},{"location":"10_Allgemein/Kompatibilit%C3%A4tsliste/#headsets","text":"Typ Funktioniert? Kommentar Fontastic NAT+ ja -- Jabra Evolve 65 ja -- Jabra Freeway HFS100 ja -- YAESU SSM-BT10 ja --","title":"Headsets"},{"location":"10_Allgemein/Kompatibilit%C3%A4tsliste/#ble-bluetooth-low-energy-ptt-buttons","text":"Typ Funktioniert? Kommentar Anytone PTT Button ja Button f\u00fcr Anytone AT-D578UV / AT-D878UV (BP-01)","title":"BLE (Bluetooth Low Energy) PTT Buttons"},{"location":"10_Allgemein/Kompatibilit%C3%A4tsliste/#funkgerate","text":"Typ Funktioniert? Kommentar Anytone AT-D878UV ja -- Icom IC-7000 ja -- Icom ID-4100 ja -- Icom ID-5100 ja -- Kenwood TM-D700 ja -- Kenwood TM-D710 ja -- Kenwood TM-V71 ja Versorgungsspannung aus Mike-Buchse reicht nicht Tytera MD-380 / MD-390 ja -- Wouxun KG-UV6D ja -- Yaesu FTM-100 ja -- Yaesu FTM-350 ja 1) Yaesu FT-7900 ja 1) Yaesu FT-8800 ja 1) 1) Dauer-PTT Fix","title":"Funkger\u00e4te"},{"location":"10_Allgemein/Stromverbrauch/","text":"Stromverbrauch \u00b6 Hinweis Diese Daten beziehen sich auf die Firmware Version 0.2.1. Aktuell sind noch keine stromsparenden Ma\u00dfnahmen in der Firmware integriert. Die Leistungsaufnahme betr\u00e4gt ca. 500 mW. Die Messungen f\u00fcr 5 V, 12 V, 13.8 V wurden \u00fcber die RJ45 Buchse durchgef\u00fchrt. Bei ESP32-USB wurde bt-trx \u00fcber USB versorgt. Modus 5 V 12 V 13.8 V ESP32-USB (5.1V) Booten -- 101 -- -- Idle 69 70 73 74 Idle + Wifi -- 147 -- -- BT Suche 94 96 97 100 BT Verbunden 78 81 82 86 Telefongespr\u00e4ch 100 101 102 106 Alle Werte in mA","title":"Stromverbrauch"},{"location":"10_Allgemein/Stromverbrauch/#stromverbrauch","text":"Hinweis Diese Daten beziehen sich auf die Firmware Version 0.2.1. Aktuell sind noch keine stromsparenden Ma\u00dfnahmen in der Firmware integriert. Die Leistungsaufnahme betr\u00e4gt ca. 500 mW. Die Messungen f\u00fcr 5 V, 12 V, 13.8 V wurden \u00fcber die RJ45 Buchse durchgef\u00fchrt. Bei ESP32-USB wurde bt-trx \u00fcber USB versorgt. Modus 5 V 12 V 13.8 V ESP32-USB (5.1V) Booten -- 101 -- -- Idle 69 70 73 74 Idle + Wifi -- 147 -- -- BT Suche 94 96 97 100 BT Verbunden 78 81 82 86 Telefongespr\u00e4ch 100 101 102 106 Alle Werte in mA","title":"Stromverbrauch"},{"location":"20_Zusammenbau/Anschlusskabel/","text":"Anschlusskabel und Jumper Board \u00b6 Konzept \u00b6 Um das bt-trx mit einer maximal gro\u00dfen Anzahl an Funkger\u00e4ten kompatibel zu machen, ist die Belegung der RJ45 Buchse J1 frei konfigurierbar. In der Regel wird bt-trx an der Buchse f\u00fcr das Handmikrofon des Transceivers angeschlossen. bt-trx kann nat\u00fcrlich auch an die NF Buchse des Funkger\u00e4ts angeschlossen werden. Damit bleibt die Mikrofonbuchse frei zur Verwendung mit dem Handmikrofon. Somit kann man beides benutzen ohne Umstecken zu m\u00fcssen oder auch das Lautsprechersignal mit abgegriffen werden, falls dies nicht an der Mikrofonbuchse anliegt. Hilfe! Offene Fragen werden am besten im Forum oder unserer Telegram-Gruppe beantwortet. Jumper Board \u00b6 Durch das Jumper Board kann die RJ45 Buchse komplett frei belegt werden. Damit ist es z.B. m\u00f6glich manche Transceiver welche bereits \u00fcber eine RJ45 Buchse verf\u00fcgen, direkt mit einem standard Netzwerkkabel zu verbinden. Dadurch entf\u00e4llt die Konfektion eines Anschlusskabels. Der Abstand der beiden Buchsenleisten ist im 2.54 mm Raster. Damit kann auch aus Lochraster ein Jumperboard gebaut werden. Im bt-trx Kit wird ein Generic Jumper Board mitgeliefert, welches via L\u00f6tjumper und Dr\u00e4hten angepasst werden kann. Dieses kann bei Wechsel des Transceivers einfach ausgetauscht werden. Galvanische Trennung der Masseleitungen \u00b6 Da verschiedene Transceiver \u00fcber unterschiedliche Massekonzepte verf\u00fcgen, haben wir uns dazu entschieden alle Masseleitungen separat an das Jumper Board zu f\u00fchren. Die galvanische Trennung der analogen und digital Signale erfolgt \u00fcber f\u00fcr das Audiosignal \u00fcber Transformatoren sowie mit einem Optokoppler f\u00fcr PTT. bt-trx verf\u00fcgt \u00fcber 4 Massepfade: PWR_GND: Masse f\u00fcr alle digitalen Bausteine sowie die Spannungsversorgung MIC_GND: Masse f\u00fcr das Mikrofon des TRX TRX_GND: Masse des TRX sowie des TRX Lautsprecherausgangs PTT_GND: Masse des PTT (Emitter am Opotkoppler) \u00dcber das Jumperboard k\u00f6nnen die jeweiligen Massen beliebig untereinander und mit dem Transceiver verbunden werden. Spannungsversorgung \u00b6 bt-trx bietet zwei M\u00f6glichkeiten um mit Spannung versorgt zu werden: RJ 45 Buchse J1 : V_IN und PWR_GND , 5...15 V DC, oder Mikro-USB Buchse des ESP32 Manche Funkger\u00e4te verf\u00fcgen \u00fcber einen Versorgungsspannungsausgang mit ausreichender Spannung und Leistung. Falls nein, kann es erforderlich sein, die Spannung extern zuzuf\u00fchren (z.B. \u00fcber Zigarettenanz\u00fcnder oder USB). Externe Absicherung vorsehen! Auf der Platine befindet sich eine selbstr\u00fcckstellende (PTC) Sicherung (250 mA Fast Trip, max. 24 DC), allerdings wird dringend empfohlen, im Anschlusskabel zus\u00e4tzlich eine konventionelle Sicherung mit entsprechenden Werten einzubauen. Informationen zum Stromverbrauch gibt es hier . Generic Jumper Board \u00b6 Das Generic Jumper Board verf\u00fcgt \u00fcber L\u00f6taugen und L\u00f6t Jumper zur individuellen Anpassung. Auf der linken Seite befinden sich die Pins zum bt-trx, auf der rechten zum RJ45 J1 . Pinnummerierung J1 Die Pinnummerierung des RJ45 Steckers entspricht dem T568B Standard, wie er auch in der Netzwerktechnik verwendet wird. Einige Transceiver ensprechen jedoch nicht diesem Standard und haben eine gespiegelte Pinnummerierung. Bitte bei der Konfektionierung beachten Mittig auf der Oberseite sind vier miteinander verbundenen L\u00f6taugen (wei\u00dfes quadrat) integirert, welche zur einfacheren Verbindung der Masseleitungen verwedet werden k\u00f6nnen. Die L\u00f6tjumper dienen zur direkten 1:1 Durchkontaktierung. Die Standardanordung ist so gestaltet, dass die twisted-pair Paare eines Netzwerkkabels MIC + MIC_GND , SPK + TRX_GND sowie V_IN + PWR_GND ensprechen. Beispiele \u00b6 Grafische Darstellung des Generic Jumper Boards Die mit z.B. Litze zu verbindenden L\u00f6taugen sind durch farbige Linien dargestellt. Zu verbindende L\u00f6tjumper sind durch magentafarbene Punkte gekennzeichnet. Handfunkger\u00e4te (2.5mm und 3.5 mm Klinke) \u00b6 Anytone, Baofeng, Kenwood, Wouxun \u00b6 Belegung des RJ45 Steckers J1 unter Verwendung eines Netwerkkabels: Kontakt Signal Belegung J1 Signal bt-trx 3.5 mm Tip +5V -- -- 3.5 mm Ring MIC+ 4 MIC 3.5 mm Sleeve MIC-/PTT 5 PTT 2.5 mm Tip SPK+ 6 SPK 2.5 mm Ring Prog -- -- 2.5 mm Sleeve SPK-/PTT 3 TRX_GND, PTT_GND, MIC_GND Fahrzeugstecker + 12V 1 V_IN Fahrzeugstecker - GND 2 PWR_GND Beispiel f\u00fcr ein Adapterkabel mit Klinkenstecker Kenwood \u00b6 TM-D700 \u00b6 Pin Signal Belegung J1 Signal bt-trx 1 DWN 1 -- 2 -- 2 -- 3 MIC 3 MIC 4 GND (MIC) 4 MIC_GND 5 STBY (PTT) 5 PTT 6 GND 6 TRX_GND, PTT_GND, PWR_GND 7 8 V, max. 200 mA 7 V_IN 8 UP 8 -- Zur Verbindung des bt-trx mit dem TM-D700 kann nun ein handels\u00fcbliches Netzwerkkabel verwendet werden. Die Spannungsversorgung des bt-trx erfolgt direkt \u00fcber das Funkger\u00e4t. Der Mikrofonstecker verf\u00fcgt \u00fcber keinen Lausprecherausgang. Im obigen Beispiel wird das Audiosignal des Transceivers nicht zum bt-trx durchgeschleift. TM-D710 \u00b6 Pin Signal Belegung J1 Signal bt-trx 1 Keypad Serial -- -- 2 -- -- -- 3 MIC 3 MIC 4 GND (MIC) 4 MIC_GND 5 PTT 5 PTT 6 GND 6 TRX_GND, PTT_GND 7 8 V, max. 100 mA -- V_IN 8 UP -- -- Fahrzeugstecker + 12V 1 V_IN Fahrzeugstecker - GND 2 PWR_GND Die Spannungsversorgung des bt-trx (br (+)/BR (-)) muss extern zugef\u00fchrt werden oder \u00fcber USB erfolgen, da die 100mA des TM-D710 nicht ausreichen. Im obigen Beispiel wird das Rx-Audiosignal des Transceivers nicht zum bt-trx durchgeschleift. ICOM (nicht getestet) \u00b6 Pin Signal Belegung J1 Signal bt-trx 1 +8 V, 10 mA max. -- -- 2 UP/DWN -- -- 3 M8V SW -- -- 4 PTT 4 PTT 5 GND (MIC) 5 MIC_GND 6 MIC 6 MIC 7 GND 7 TRX_GND, PTT_GND 8 SQL -- -- Fahrzeugstecker + 12V 1 V_IN Fahrzeugstecker - GND 2 PWR_GND Die Spannungsversorgung des bt-trx (br (+)/BR (-)) muss extern zugef\u00fchrt werden oder \u00fcber USB erfolgen, da die 10mA der ICOM Mikrofonbuchse nicht ausreichen. Im obigen Beispiel wird das Rx-Audiosignal des Transceivers nicht zum bt-trx durchgeschleift.","title":"Anschlusskabel"},{"location":"20_Zusammenbau/Anschlusskabel/#anschlusskabel-und-jumper-board","text":"","title":"Anschlusskabel und Jumper Board"},{"location":"20_Zusammenbau/Anschlusskabel/#konzept","text":"Um das bt-trx mit einer maximal gro\u00dfen Anzahl an Funkger\u00e4ten kompatibel zu machen, ist die Belegung der RJ45 Buchse J1 frei konfigurierbar. In der Regel wird bt-trx an der Buchse f\u00fcr das Handmikrofon des Transceivers angeschlossen. bt-trx kann nat\u00fcrlich auch an die NF Buchse des Funkger\u00e4ts angeschlossen werden. Damit bleibt die Mikrofonbuchse frei zur Verwendung mit dem Handmikrofon. Somit kann man beides benutzen ohne Umstecken zu m\u00fcssen oder auch das Lautsprechersignal mit abgegriffen werden, falls dies nicht an der Mikrofonbuchse anliegt. Hilfe! Offene Fragen werden am besten im Forum oder unserer Telegram-Gruppe beantwortet.","title":"Konzept"},{"location":"20_Zusammenbau/Anschlusskabel/#jumper-board","text":"Durch das Jumper Board kann die RJ45 Buchse komplett frei belegt werden. Damit ist es z.B. m\u00f6glich manche Transceiver welche bereits \u00fcber eine RJ45 Buchse verf\u00fcgen, direkt mit einem standard Netzwerkkabel zu verbinden. Dadurch entf\u00e4llt die Konfektion eines Anschlusskabels. Der Abstand der beiden Buchsenleisten ist im 2.54 mm Raster. Damit kann auch aus Lochraster ein Jumperboard gebaut werden. Im bt-trx Kit wird ein Generic Jumper Board mitgeliefert, welches via L\u00f6tjumper und Dr\u00e4hten angepasst werden kann. Dieses kann bei Wechsel des Transceivers einfach ausgetauscht werden.","title":"Jumper Board"},{"location":"20_Zusammenbau/Anschlusskabel/#galvanische-trennung-der-masseleitungen","text":"Da verschiedene Transceiver \u00fcber unterschiedliche Massekonzepte verf\u00fcgen, haben wir uns dazu entschieden alle Masseleitungen separat an das Jumper Board zu f\u00fchren. Die galvanische Trennung der analogen und digital Signale erfolgt \u00fcber f\u00fcr das Audiosignal \u00fcber Transformatoren sowie mit einem Optokoppler f\u00fcr PTT. bt-trx verf\u00fcgt \u00fcber 4 Massepfade: PWR_GND: Masse f\u00fcr alle digitalen Bausteine sowie die Spannungsversorgung MIC_GND: Masse f\u00fcr das Mikrofon des TRX TRX_GND: Masse des TRX sowie des TRX Lautsprecherausgangs PTT_GND: Masse des PTT (Emitter am Opotkoppler) \u00dcber das Jumperboard k\u00f6nnen die jeweiligen Massen beliebig untereinander und mit dem Transceiver verbunden werden.","title":"Galvanische Trennung der Masseleitungen"},{"location":"20_Zusammenbau/Anschlusskabel/#spannungsversorgung","text":"bt-trx bietet zwei M\u00f6glichkeiten um mit Spannung versorgt zu werden: RJ 45 Buchse J1 : V_IN und PWR_GND , 5...15 V DC, oder Mikro-USB Buchse des ESP32 Manche Funkger\u00e4te verf\u00fcgen \u00fcber einen Versorgungsspannungsausgang mit ausreichender Spannung und Leistung. Falls nein, kann es erforderlich sein, die Spannung extern zuzuf\u00fchren (z.B. \u00fcber Zigarettenanz\u00fcnder oder USB). Externe Absicherung vorsehen! Auf der Platine befindet sich eine selbstr\u00fcckstellende (PTC) Sicherung (250 mA Fast Trip, max. 24 DC), allerdings wird dringend empfohlen, im Anschlusskabel zus\u00e4tzlich eine konventionelle Sicherung mit entsprechenden Werten einzubauen. Informationen zum Stromverbrauch gibt es hier .","title":"Spannungsversorgung"},{"location":"20_Zusammenbau/Anschlusskabel/#generic-jumper-board","text":"Das Generic Jumper Board verf\u00fcgt \u00fcber L\u00f6taugen und L\u00f6t Jumper zur individuellen Anpassung. Auf der linken Seite befinden sich die Pins zum bt-trx, auf der rechten zum RJ45 J1 . Pinnummerierung J1 Die Pinnummerierung des RJ45 Steckers entspricht dem T568B Standard, wie er auch in der Netzwerktechnik verwendet wird. Einige Transceiver ensprechen jedoch nicht diesem Standard und haben eine gespiegelte Pinnummerierung. Bitte bei der Konfektionierung beachten Mittig auf der Oberseite sind vier miteinander verbundenen L\u00f6taugen (wei\u00dfes quadrat) integirert, welche zur einfacheren Verbindung der Masseleitungen verwedet werden k\u00f6nnen. Die L\u00f6tjumper dienen zur direkten 1:1 Durchkontaktierung. Die Standardanordung ist so gestaltet, dass die twisted-pair Paare eines Netzwerkkabels MIC + MIC_GND , SPK + TRX_GND sowie V_IN + PWR_GND ensprechen.","title":"Generic Jumper Board"},{"location":"20_Zusammenbau/Anschlusskabel/#beispiele","text":"Grafische Darstellung des Generic Jumper Boards Die mit z.B. Litze zu verbindenden L\u00f6taugen sind durch farbige Linien dargestellt. Zu verbindende L\u00f6tjumper sind durch magentafarbene Punkte gekennzeichnet.","title":"Beispiele"},{"location":"20_Zusammenbau/Anschlusskabel/#handfunkgerate-25mm-und-35-mm-klinke","text":"","title":"Handfunkger\u00e4te (2.5mm und 3.5 mm Klinke)"},{"location":"20_Zusammenbau/Anschlusskabel/#anytone-baofeng-kenwood-wouxun","text":"Belegung des RJ45 Steckers J1 unter Verwendung eines Netwerkkabels: Kontakt Signal Belegung J1 Signal bt-trx 3.5 mm Tip +5V -- -- 3.5 mm Ring MIC+ 4 MIC 3.5 mm Sleeve MIC-/PTT 5 PTT 2.5 mm Tip SPK+ 6 SPK 2.5 mm Ring Prog -- -- 2.5 mm Sleeve SPK-/PTT 3 TRX_GND, PTT_GND, MIC_GND Fahrzeugstecker + 12V 1 V_IN Fahrzeugstecker - GND 2 PWR_GND Beispiel f\u00fcr ein Adapterkabel mit Klinkenstecker","title":"Anytone, Baofeng, Kenwood, Wouxun"},{"location":"20_Zusammenbau/Anschlusskabel/#kenwood","text":"","title":"Kenwood"},{"location":"20_Zusammenbau/Anschlusskabel/#tm-d700","text":"Pin Signal Belegung J1 Signal bt-trx 1 DWN 1 -- 2 -- 2 -- 3 MIC 3 MIC 4 GND (MIC) 4 MIC_GND 5 STBY (PTT) 5 PTT 6 GND 6 TRX_GND, PTT_GND, PWR_GND 7 8 V, max. 200 mA 7 V_IN 8 UP 8 -- Zur Verbindung des bt-trx mit dem TM-D700 kann nun ein handels\u00fcbliches Netzwerkkabel verwendet werden. Die Spannungsversorgung des bt-trx erfolgt direkt \u00fcber das Funkger\u00e4t. Der Mikrofonstecker verf\u00fcgt \u00fcber keinen Lausprecherausgang. Im obigen Beispiel wird das Audiosignal des Transceivers nicht zum bt-trx durchgeschleift.","title":"TM-D700"},{"location":"20_Zusammenbau/Anschlusskabel/#tm-d710","text":"Pin Signal Belegung J1 Signal bt-trx 1 Keypad Serial -- -- 2 -- -- -- 3 MIC 3 MIC 4 GND (MIC) 4 MIC_GND 5 PTT 5 PTT 6 GND 6 TRX_GND, PTT_GND 7 8 V, max. 100 mA -- V_IN 8 UP -- -- Fahrzeugstecker + 12V 1 V_IN Fahrzeugstecker - GND 2 PWR_GND Die Spannungsversorgung des bt-trx (br (+)/BR (-)) muss extern zugef\u00fchrt werden oder \u00fcber USB erfolgen, da die 100mA des TM-D710 nicht ausreichen. Im obigen Beispiel wird das Rx-Audiosignal des Transceivers nicht zum bt-trx durchgeschleift.","title":"TM-D710"},{"location":"20_Zusammenbau/Anschlusskabel/#icom-nicht-getestet","text":"Pin Signal Belegung J1 Signal bt-trx 1 +8 V, 10 mA max. -- -- 2 UP/DWN -- -- 3 M8V SW -- -- 4 PTT 4 PTT 5 GND (MIC) 5 MIC_GND 6 MIC 6 MIC 7 GND 7 TRX_GND, PTT_GND 8 SQL -- -- Fahrzeugstecker + 12V 1 V_IN Fahrzeugstecker - GND 2 PWR_GND Die Spannungsversorgung des bt-trx (br (+)/BR (-)) muss extern zugef\u00fchrt werden oder \u00fcber USB erfolgen, da die 10mA der ICOM Mikrofonbuchse nicht ausreichen. Im obigen Beispiel wird das Rx-Audiosignal des Transceivers nicht zum bt-trx durchgeschleift.","title":"ICOM (nicht getestet)"},{"location":"20_Zusammenbau/Frontblende/","text":"Frontblende \u00b6 Um dem Einbau von bt-trx in das Geh\u00e4use zu vereinfachen, stellen wir folgende Daten zur Verf\u00fcgung: Schablone ( DXF , PDF ) der Ausschnitte der Frontblende, und 3D-Daten ( STL-Datei ) um sich eine Frontblende mit den passenden Ausschnitten mit dem 3D-Drucker selbst herzustellen.","title":"Frontblende"},{"location":"20_Zusammenbau/Frontblende/#frontblende","text":"Um dem Einbau von bt-trx in das Geh\u00e4use zu vereinfachen, stellen wir folgende Daten zur Verf\u00fcgung: Schablone ( DXF , PDF ) der Ausschnitte der Frontblende, und 3D-Daten ( STL-Datei ) um sich eine Frontblende mit den passenden Ausschnitten mit dem 3D-Drucker selbst herzustellen.","title":"Frontblende"},{"location":"20_Zusammenbau/L%C3%B6tanleitung/","text":"L\u00f6tanleitung \u00b6 Hinweis Die folgende L\u00f6tanleitung bezieht sich auf das bt-trx Kit (v5.0) mit vorbest\u00fcckten SMD Bauteilen. Inhalt des Kits \u00b6 Menge Beschreibung Bauteilnummer Hinweis 1 Vorbest\u00fcckte Platine - 1 ESP32 DevKitC U3 zum Produktionszeitpunkt aktuelle Firmware ist bereits aufgespielt 2 Buchsenleiste 1x19 - f\u00fcr ESP32 2 Buchsenleiste 1x8 J9, J10 1 Stiftleiste 1x3 J5 1 Klinkenbuchse 3.5mm J3 1 RJ45 Buchse J1 1 Taster SW1 1 Geh\u00e4use - 1 Jumper - f\u00fcr J5 2 Befestigungsschrauben - 1 Generic Jumper Module - 2 Stiftleiste 1x8 - f\u00fcr Generic Jumper Module Bitte pr\u00fcfen Sie ob alle o.g. Bauteile im Kit vorhanden sind. L\u00f6ten der Hauptplatine \u00b6 Idealerweise wird mit der Stiftleiste J5 begonnen, da diese die geringste Bauh\u00f6he aufweist. Hinweis zum PTT-select Jumper J5 Der Jumper J5 muss f\u00fcr den Funkbetrieb in jedem Fall gesteckt sein. Er entscheidet, ob der PTT Taster direkt zum Transceiver durchgeschleift wird (Stellung \"BTN\", Pins 1-2 verbunden), oder ob der ESP32 das PTT Signal erzeugt (Stellung \"uC\", Pins 2-3 verbunden), wird ben\u00f6tigt f\u00fcr \"Soft-PTT\" Funktionen. Weitere Informationen dazu im Kapitel PTT-Taste . Als n\u00e4chstes sollte der Taster SW1 aufgel\u00f6tet werden. Gefolgt von der RJ45 Buchse J1 und der Klinkenbuchse J3 . Hier sollte auf ein planes Aufliegen der Buchsen geachtet werden. Nun folgen die beiden Buchsenleisten J9 und J10 f\u00fcr das Jumper Modul . Zuguterletzt folgt der ESP32 ( U3 ). Die 1x19 Buchsenleisten dienen zum einen zur Erh\u00f6hung des ESP32 um den Taster unterhalb unterzubringen, zum anderen kann der ESP zu Entwicklungszwecken aus dem bt-trx leicht entfernt werden. Um den L\u00f6tvorgang so einfach wie m\u00f6glich zu gestalten, werden die Buchsenleisten vor dem Verl\u00f6ten auf den ESP32 gesteckt und so eine senkrechte Montage gew\u00e4hrleistet. Hinweis Die USB-Buchse des ESP32 muss bei der Montage zum Platinenrand hin orientiert sein L\u00f6ten des Jumper Moduls \u00b6 Um die Belegung des RJ45 Steckers J1 an die jeweiligen Funkger\u00e4te anzupassen, muss ein Jumper Modul zwischen J9 und J10 eingesetzt werden. Dazu kann das mitgelieferte Generic Jumper Module verwendet werden. Eine detaillierte Anleitung befindet sich unter Anschlusskabel . Montage in das Geh\u00e4use \u00b6 Nun wird das Modul mit den 2 beiligenden Schrauben im mitgelieferten Geh\u00e4use befestigt. Die Frontblende muss manuell bearbeitet oder mit einem 3D Drucker bzw. Lasercutter gefertigt werden. Inbetriebnahme \u00b6 Zur Erstinbetriebnahme wird das bt-trx Modul mit einem Micro-USB Kabel oder \u00fcber J1 (siehe Anschlusskabel ) mit Strom versorgt. Da der ESP32 vor der Auslieferung bereits mit der aktuellen bt-trx Firmware bespielt wurde, kann sofort losgelegt werden. Nach dem kurzen Bootvorgang blinkt die blaue LED und zeigt damit an, dass Bluetooth-Ger\u00e4te in der Umgebung gesucht werden. Nun kann, falls kein Bluetooth PTT Taster verwendet wird, die PTT-Taste gefertigt werden. Die weitere Inbetriebnahme kann nun wie hier beschrieben erfolgen.","title":"L\u00f6tanleitung"},{"location":"20_Zusammenbau/L%C3%B6tanleitung/#lotanleitung","text":"Hinweis Die folgende L\u00f6tanleitung bezieht sich auf das bt-trx Kit (v5.0) mit vorbest\u00fcckten SMD Bauteilen.","title":"L\u00f6tanleitung"},{"location":"20_Zusammenbau/L%C3%B6tanleitung/#inhalt-des-kits","text":"Menge Beschreibung Bauteilnummer Hinweis 1 Vorbest\u00fcckte Platine - 1 ESP32 DevKitC U3 zum Produktionszeitpunkt aktuelle Firmware ist bereits aufgespielt 2 Buchsenleiste 1x19 - f\u00fcr ESP32 2 Buchsenleiste 1x8 J9, J10 1 Stiftleiste 1x3 J5 1 Klinkenbuchse 3.5mm J3 1 RJ45 Buchse J1 1 Taster SW1 1 Geh\u00e4use - 1 Jumper - f\u00fcr J5 2 Befestigungsschrauben - 1 Generic Jumper Module - 2 Stiftleiste 1x8 - f\u00fcr Generic Jumper Module Bitte pr\u00fcfen Sie ob alle o.g. Bauteile im Kit vorhanden sind.","title":"Inhalt des Kits"},{"location":"20_Zusammenbau/L%C3%B6tanleitung/#loten-der-hauptplatine","text":"Idealerweise wird mit der Stiftleiste J5 begonnen, da diese die geringste Bauh\u00f6he aufweist. Hinweis zum PTT-select Jumper J5 Der Jumper J5 muss f\u00fcr den Funkbetrieb in jedem Fall gesteckt sein. Er entscheidet, ob der PTT Taster direkt zum Transceiver durchgeschleift wird (Stellung \"BTN\", Pins 1-2 verbunden), oder ob der ESP32 das PTT Signal erzeugt (Stellung \"uC\", Pins 2-3 verbunden), wird ben\u00f6tigt f\u00fcr \"Soft-PTT\" Funktionen. Weitere Informationen dazu im Kapitel PTT-Taste . Als n\u00e4chstes sollte der Taster SW1 aufgel\u00f6tet werden. Gefolgt von der RJ45 Buchse J1 und der Klinkenbuchse J3 . Hier sollte auf ein planes Aufliegen der Buchsen geachtet werden. Nun folgen die beiden Buchsenleisten J9 und J10 f\u00fcr das Jumper Modul . Zuguterletzt folgt der ESP32 ( U3 ). Die 1x19 Buchsenleisten dienen zum einen zur Erh\u00f6hung des ESP32 um den Taster unterhalb unterzubringen, zum anderen kann der ESP zu Entwicklungszwecken aus dem bt-trx leicht entfernt werden. Um den L\u00f6tvorgang so einfach wie m\u00f6glich zu gestalten, werden die Buchsenleisten vor dem Verl\u00f6ten auf den ESP32 gesteckt und so eine senkrechte Montage gew\u00e4hrleistet. Hinweis Die USB-Buchse des ESP32 muss bei der Montage zum Platinenrand hin orientiert sein","title":"L\u00f6ten der Hauptplatine"},{"location":"20_Zusammenbau/L%C3%B6tanleitung/#loten-des-jumper-moduls","text":"Um die Belegung des RJ45 Steckers J1 an die jeweiligen Funkger\u00e4te anzupassen, muss ein Jumper Modul zwischen J9 und J10 eingesetzt werden. Dazu kann das mitgelieferte Generic Jumper Module verwendet werden. Eine detaillierte Anleitung befindet sich unter Anschlusskabel .","title":"L\u00f6ten des Jumper Moduls"},{"location":"20_Zusammenbau/L%C3%B6tanleitung/#montage-in-das-gehause","text":"Nun wird das Modul mit den 2 beiligenden Schrauben im mitgelieferten Geh\u00e4use befestigt. Die Frontblende muss manuell bearbeitet oder mit einem 3D Drucker bzw. Lasercutter gefertigt werden.","title":"Montage in das Geh\u00e4use"},{"location":"20_Zusammenbau/L%C3%B6tanleitung/#inbetriebnahme","text":"Zur Erstinbetriebnahme wird das bt-trx Modul mit einem Micro-USB Kabel oder \u00fcber J1 (siehe Anschlusskabel ) mit Strom versorgt. Da der ESP32 vor der Auslieferung bereits mit der aktuellen bt-trx Firmware bespielt wurde, kann sofort losgelegt werden. Nach dem kurzen Bootvorgang blinkt die blaue LED und zeigt damit an, dass Bluetooth-Ger\u00e4te in der Umgebung gesucht werden. Nun kann, falls kein Bluetooth PTT Taster verwendet wird, die PTT-Taste gefertigt werden. Die weitere Inbetriebnahme kann nun wie hier beschrieben erfolgen.","title":"Inbetriebnahme"},{"location":"20_Zusammenbau/OLED-Display/","text":"OLED-Display (optional) \u00b6 Allgemeines \u00b6 Ab der Version 1.1.0 der Firmware wird die Ansteuerung eines OLED Displays unterst\u00fctzt. Das Display muss einen SH1106 Chipsatz und 128x64 Pixel Gr\u00f6\u00dfe haben. Diese Displays sind f\u00fcr kleines Geld bei diversen Lieferanten im Internet erh\u00e4ltlich. Anschluss \u00b6 Das Display wird an den I\u00b2C pins auf dem dev-board v5.0 angeschlossen. Die entsprechenden Pins sind auf dem dev Board v5.0 direkt neben dem ESP Modul herausgef\u00fchrt. Die Belegung zeigt das folgende Bild: Auf dem folgenden Bild ist das Display verbunden und zeigt das bt-trx Logo w\u00e4hrend des Bootvorgangs an. Einbau \u00b6 Die Geh\u00e4usevariante ohne Batterieschacht bietet ausreichend Platz, um das OLED Display mit ins Geh\u00e4use einzubauen. F\u00fcr das Display wird ein kleiner Ausschnitt gefeilt und das Display selbst mit 4 M3 Senkkopfschrauben befestigt. Wichtig ist hierbei, die Schrauben nicht zu fest anzuziehen, da sonst die Platine an den Ecken zu stark gebogen wird. Konfiguration \u00b6 Es ist keine weitere Konfiguration erforderlich. Das Display sollte sofort funktionieren und den aktuellen Status von bt-trx anzeigen.","title":"OLED-Display"},{"location":"20_Zusammenbau/OLED-Display/#oled-display-optional","text":"","title":"OLED-Display (optional)"},{"location":"20_Zusammenbau/OLED-Display/#allgemeines","text":"Ab der Version 1.1.0 der Firmware wird die Ansteuerung eines OLED Displays unterst\u00fctzt. Das Display muss einen SH1106 Chipsatz und 128x64 Pixel Gr\u00f6\u00dfe haben. Diese Displays sind f\u00fcr kleines Geld bei diversen Lieferanten im Internet erh\u00e4ltlich.","title":"Allgemeines"},{"location":"20_Zusammenbau/OLED-Display/#anschluss","text":"Das Display wird an den I\u00b2C pins auf dem dev-board v5.0 angeschlossen. Die entsprechenden Pins sind auf dem dev Board v5.0 direkt neben dem ESP Modul herausgef\u00fchrt. Die Belegung zeigt das folgende Bild: Auf dem folgenden Bild ist das Display verbunden und zeigt das bt-trx Logo w\u00e4hrend des Bootvorgangs an.","title":"Anschluss"},{"location":"20_Zusammenbau/OLED-Display/#einbau","text":"Die Geh\u00e4usevariante ohne Batterieschacht bietet ausreichend Platz, um das OLED Display mit ins Geh\u00e4use einzubauen. F\u00fcr das Display wird ein kleiner Ausschnitt gefeilt und das Display selbst mit 4 M3 Senkkopfschrauben befestigt. Wichtig ist hierbei, die Schrauben nicht zu fest anzuziehen, da sonst die Platine an den Ecken zu stark gebogen wird.","title":"Einbau"},{"location":"20_Zusammenbau/OLED-Display/#konfiguration","text":"Es ist keine weitere Konfiguration erforderlich. Das Display sollte sofort funktionieren und den aktuellen Status von bt-trx anzeigen.","title":"Konfiguration"},{"location":"20_Zusammenbau/PTT-Taste/","text":"PTT-Taste \u00b6 Allgemeines \u00b6 Das PTT Signal kann bei bt-trx \u00fcber einen drahtgebundenen Taster oder \u00fcber eine Bluetooth Low-Energy (BLE) Taste gesteuert werden. Die beiden Varianten k\u00f6nnen auch gleichzeitig benutzt werden. Soft-PTT \u00b6 \"Soft-PTT\" ist kurz f\u00fcr \"Software-PTT\" und beschreibt Komfort-Funktionen, die mit einer direkten Verbindung der PTT-Taste an den Transceiver nicht m\u00f6glich w\u00e4ren. Daher wird bei Soft-PTT das PTT Signal durch den ESP32 erzeugt, der wiederum durch eine drahtgebundene Taster oder einen Bluetooth Button angesteuert wird. Um die Soft-PTT Funktionen nutzen zu k\u00f6nnen, muss der Jumper J5 auf der Stellung \"uC\" sein. Ist der Jumper auf der Stellung \"BTN\", ist das Signal des drahtgebundenen Tasters direkt auf den Transceiver durchverbunden. Folgende Funktionen werden durch Soft-PTT erm\u00f6glicht: Bluetooth PTT Taster PTT Toggle *) PTT Timeout *) PTT Hang Time *) *) siehe auch Konfiguration . Hinweis zum PTT-select Jumper J5 Der Jumper J5 muss f\u00fcr den Funkbetrieb in jedem Fall gesteckt sein. Er entscheidet, ob der ESP32 das PTT Signal erzeugt (Stellung uC , Pins 2-3 verbunden), wird ben\u00f6tigt f\u00fcr alle oben genannten \"Soft-PTT\" Funktionen, oder ob der drahtgebundene PTT Taster direkt zum Transceiver durchgeschleift wird (Stellung BTN , Pins 1-2 verbunden), obige Features k\u00f6nnen nicht genutzt werden . Bluetooth PTT \u00b6 Um PTT drahtlos zu bedienen kann aktuell nur der Anytone BP-01 PTT Button benutzt werden. Der Jumper J5 muss dazu auf uC gesetzt sein (\"Soft-PTT\"). Um den Bluetooth Button mit bt-trx zu verbinden, muss der Taster nach dem Start von bt-trx einmal gedr\u00fcckt werden. bt-trx erkennt den Taster automatisch. Bluetooth PTT und WLAN-Modus W\u00e4hrend sich bt-trx im WLAN-Modus befindet, kann der Bluetooth PTT Button nicht genutzt werden. Es ist ein Neustart notwendig um die Taste wieder verbinden zu k\u00f6nnen. Drahtgebundene PTT \u00b6 Der PTT-Kontakt des Funkger\u00e4ts kann \u00fcber mehrere Wege angesteuert werden. Hier die PTT-Schaltung auf der bt-trx Platine: Soll die PTT-Taste direkt in das bt-trx Geh\u00e4use integriert werden, bietet sich J2 an. Soll die PTT-Taste an einer anderen Stelle als das bt-trx Geh\u00e4use montiert werden, wird der Anschluss an die Klinkenbuchse J3 empfohlen. Mit einem Taster und einem Klinkenstecker kann somit einfach eine f\u00fcr den jeweiligen Zweck passende PTT-Taste gebaut werden (siehe Bild weiter unten). Der \"Ring\"-Kontakt der Klinkenbuchse bzw. der mittlere Kontakt von J2 ist mit einem GPIO (3.3 V, max. 20 mA) des ESP32 verbunden, der den PTT-Status anzeigt (\"UC_PTT_LED\"). An diesen Kontakt kann eine LED (mit Vorwiderstand) angeschlossen werden, um den aktuellen PTT Status wiederzuspiegeln. Der PTT Kontakt des Funkger\u00e4ts muss \u00fcber das Jumper Modul mit PTT verbunden werden. PTT_GND ist je nach Funkger\u00e4t zu verbinden. Schaltung f\u00fcr PTT Taster \u00b6 Beispiel f\u00fcr einen PTT Taster (hier ohne LED) \u00b6","title":"PTT-Taste"},{"location":"20_Zusammenbau/PTT-Taste/#ptt-taste","text":"","title":"PTT-Taste"},{"location":"20_Zusammenbau/PTT-Taste/#allgemeines","text":"Das PTT Signal kann bei bt-trx \u00fcber einen drahtgebundenen Taster oder \u00fcber eine Bluetooth Low-Energy (BLE) Taste gesteuert werden. Die beiden Varianten k\u00f6nnen auch gleichzeitig benutzt werden.","title":"Allgemeines"},{"location":"20_Zusammenbau/PTT-Taste/#soft-ptt","text":"\"Soft-PTT\" ist kurz f\u00fcr \"Software-PTT\" und beschreibt Komfort-Funktionen, die mit einer direkten Verbindung der PTT-Taste an den Transceiver nicht m\u00f6glich w\u00e4ren. Daher wird bei Soft-PTT das PTT Signal durch den ESP32 erzeugt, der wiederum durch eine drahtgebundene Taster oder einen Bluetooth Button angesteuert wird. Um die Soft-PTT Funktionen nutzen zu k\u00f6nnen, muss der Jumper J5 auf der Stellung \"uC\" sein. Ist der Jumper auf der Stellung \"BTN\", ist das Signal des drahtgebundenen Tasters direkt auf den Transceiver durchverbunden. Folgende Funktionen werden durch Soft-PTT erm\u00f6glicht: Bluetooth PTT Taster PTT Toggle *) PTT Timeout *) PTT Hang Time *) *) siehe auch Konfiguration . Hinweis zum PTT-select Jumper J5 Der Jumper J5 muss f\u00fcr den Funkbetrieb in jedem Fall gesteckt sein. Er entscheidet, ob der ESP32 das PTT Signal erzeugt (Stellung uC , Pins 2-3 verbunden), wird ben\u00f6tigt f\u00fcr alle oben genannten \"Soft-PTT\" Funktionen, oder ob der drahtgebundene PTT Taster direkt zum Transceiver durchgeschleift wird (Stellung BTN , Pins 1-2 verbunden), obige Features k\u00f6nnen nicht genutzt werden .","title":"Soft-PTT"},{"location":"20_Zusammenbau/PTT-Taste/#bluetooth-ptt","text":"Um PTT drahtlos zu bedienen kann aktuell nur der Anytone BP-01 PTT Button benutzt werden. Der Jumper J5 muss dazu auf uC gesetzt sein (\"Soft-PTT\"). Um den Bluetooth Button mit bt-trx zu verbinden, muss der Taster nach dem Start von bt-trx einmal gedr\u00fcckt werden. bt-trx erkennt den Taster automatisch. Bluetooth PTT und WLAN-Modus W\u00e4hrend sich bt-trx im WLAN-Modus befindet, kann der Bluetooth PTT Button nicht genutzt werden. Es ist ein Neustart notwendig um die Taste wieder verbinden zu k\u00f6nnen.","title":"Bluetooth PTT"},{"location":"20_Zusammenbau/PTT-Taste/#drahtgebundene-ptt","text":"Der PTT-Kontakt des Funkger\u00e4ts kann \u00fcber mehrere Wege angesteuert werden. Hier die PTT-Schaltung auf der bt-trx Platine: Soll die PTT-Taste direkt in das bt-trx Geh\u00e4use integriert werden, bietet sich J2 an. Soll die PTT-Taste an einer anderen Stelle als das bt-trx Geh\u00e4use montiert werden, wird der Anschluss an die Klinkenbuchse J3 empfohlen. Mit einem Taster und einem Klinkenstecker kann somit einfach eine f\u00fcr den jeweiligen Zweck passende PTT-Taste gebaut werden (siehe Bild weiter unten). Der \"Ring\"-Kontakt der Klinkenbuchse bzw. der mittlere Kontakt von J2 ist mit einem GPIO (3.3 V, max. 20 mA) des ESP32 verbunden, der den PTT-Status anzeigt (\"UC_PTT_LED\"). An diesen Kontakt kann eine LED (mit Vorwiderstand) angeschlossen werden, um den aktuellen PTT Status wiederzuspiegeln. Der PTT Kontakt des Funkger\u00e4ts muss \u00fcber das Jumper Modul mit PTT verbunden werden. PTT_GND ist je nach Funkger\u00e4t zu verbinden.","title":"Drahtgebundene PTT"},{"location":"20_Zusammenbau/PTT-Taste/#schaltung-fur-ptt-taster","text":"","title":"Schaltung f\u00fcr PTT Taster"},{"location":"20_Zusammenbau/PTT-Taste/#beispiel-fur-einen-ptt-taster-hier-ohne-led","text":"","title":"Beispiel f\u00fcr einen PTT Taster (hier ohne LED)"},{"location":"30_Bedienung/Firmware-Update/","text":"Firmware-Update \u00b6 Die aktuellste Firmwareversion kann man sich unter https://github.com/bt-trx/firmware/releases (\"bt-trx_esp32_firmware_x.y.z.bin\") herunterladen. Eine neue Firmware-Version kann mittels WLAN auf bt-trx aufgespielt werden. WLAN-Modus Daf\u00fcr muss bt-trx in den WLAN-Modus versetzt werden. Hierzu h\u00e4lt man SW1 w\u00e4hrend des Starts von bt-trx f\u00fcr 5 Sekunden lang gedr\u00fcckt. Wenn der WLAN-Modus erfolgreich gestartet wurde, blinken die beiden Status-LEDs kurz gleichzeitig. Nun kann man sich mit dem Computer oder dem Smartphone mit dem WLAN \"bt-trx\" verbinden (Passwort: \"bt-trx73\"). Sobald man sich verbunden hat, kann man das bt-trx Modul mit einem Browser unter http://bt-trx.local oder http://192.168.4.1 erreichen. bt-trx Update von Firmware <0.3.0 auf 0.3.0 und h\u00f6her Die bt-trx Firmware ab Version 0.3.0 ben\u00f6tigt aufgrund ihrer Gr\u00f6\u00dfe eine Partitionstabelle, die vom Standard-Layout des ESP32 abweicht. Diese muss f\u00fcr ein Update von einer Version <0.3.0 auf 0.3.0 und h\u00f6her mittels USB auf den ESP32 aufgespielt werden. Auf der Website muss mittels \"Choose File\" die Firmwaredatei ( .bin) ausgew\u00e4hlt und mit dem \"Update\" Button auf das Ger\u00e4t geschrieben werden. Bitte unbedingt abwarten, bis die Datei komplett hochgeladen wurde! * Nach erfolgreichem Upload und Einspielen des Updates startet sich bt-trx automatisch neu.","title":"Firmware-Update"},{"location":"30_Bedienung/Firmware-Update/#firmware-update","text":"Die aktuellste Firmwareversion kann man sich unter https://github.com/bt-trx/firmware/releases (\"bt-trx_esp32_firmware_x.y.z.bin\") herunterladen. Eine neue Firmware-Version kann mittels WLAN auf bt-trx aufgespielt werden. WLAN-Modus Daf\u00fcr muss bt-trx in den WLAN-Modus versetzt werden. Hierzu h\u00e4lt man SW1 w\u00e4hrend des Starts von bt-trx f\u00fcr 5 Sekunden lang gedr\u00fcckt. Wenn der WLAN-Modus erfolgreich gestartet wurde, blinken die beiden Status-LEDs kurz gleichzeitig. Nun kann man sich mit dem Computer oder dem Smartphone mit dem WLAN \"bt-trx\" verbinden (Passwort: \"bt-trx73\"). Sobald man sich verbunden hat, kann man das bt-trx Modul mit einem Browser unter http://bt-trx.local oder http://192.168.4.1 erreichen. bt-trx Update von Firmware <0.3.0 auf 0.3.0 und h\u00f6her Die bt-trx Firmware ab Version 0.3.0 ben\u00f6tigt aufgrund ihrer Gr\u00f6\u00dfe eine Partitionstabelle, die vom Standard-Layout des ESP32 abweicht. Diese muss f\u00fcr ein Update von einer Version <0.3.0 auf 0.3.0 und h\u00f6her mittels USB auf den ESP32 aufgespielt werden. Auf der Website muss mittels \"Choose File\" die Firmwaredatei ( .bin) ausgew\u00e4hlt und mit dem \"Update\" Button auf das Ger\u00e4t geschrieben werden. Bitte unbedingt abwarten, bis die Datei komplett hochgeladen wurde! * Nach erfolgreichem Upload und Einspielen des Updates startet sich bt-trx automatisch neu.","title":"Firmware-Update"},{"location":"30_Bedienung/Funkbetrieb/","text":"Funkbetrieb \u00b6 Herstellen der Bluetooth-Verbindung zum Autoradio oder Headset \u00b6 bt-trx beginnt nach dem Start selbstst\u00e4ndig, nach geeigneten Ger\u00e4ten f\u00fcr die Bluetoothverbindung zu suchen und eine Verbindung herzustellen. Es wird nur eine Verbindung mit Ger\u00e4ten hergestellt, die das \"HFP\"-Profil unterst\u00fctzen (Autoradios, bestimmte Headsets). Eine (ungewollte) Verbindung mit einem Smartphone kann daher nicht passieren. Info: Die Verbindung zu einfachen Bluetooth-Headsets \u00fcber das \"HSP\"-Profil wird aktuell noch nicht unterst\u00fctzt, ist aber m\u00f6glich und wird in einer der kommenden Firmware-Versionen eingebaut werden. Es kann notwendig sein, das Autoradio zum Verbindungsaufbau in den Bluetooth-Pairingmodus zu versetzen, um es f\u00fcr bt-trx sichtbar zu machen. In der Regel geschieht dies \u00fcber einen Men\u00fcpunkt \"Neues Bluetooth-Ger\u00e4t hinzuf\u00fcgen\" o.\u00e4.. Sobald die Verbindung einmal erfolgeich hergestellt wurde, sollten sich die beiden Ger\u00e4te beim n\u00e4chsten Start des bt-trx, bzw. des Fahrzeugs automatisch miteinander verbinden. Die beiden Status-LEDs (gr\u00fcn und blau) liefern folgende Informationen: Aktivit\u00e4t-LED (gr\u00fcn) Bluetooth-LED (blau) Status aus blinkt BT-Verbindungssuche aus an BT-Verbindung hergestellt blinkt an Audio-Verbindung hergestellt Herstellen der Audio-Verbindung \u00b6 Um die Audio-Verbindung herstellen zu k\u00f6nnen, muss die Bluetooth-Verbindung (blaue LED leuchtet) hergestellt sein. Die Audioverbindung wird mittels eines simulierten Telefongespr\u00e4chs hergestellt, denn bt-trx verh\u00e4lt sich gegen\u00fcber dem Autoradio wie ein Mobiltelefon. Der Telefonanruf kann \u00fcber drei Wege hergestellt werden: T\u00e4tigen eines Anrufs an eine beliebige Rufnummer (eine Ziffer gen\u00fcgt) aus dem Telefonmen\u00fc des Autoradios heraus. bt-trx nimmt den ausgehenden Anruf automatisch an. Wichtig: Falls das Autoradio mehrere gleichzeitige Bluetooth-Verbindungen unterst\u00fctzt, muss sichergestellt werden, dass das Telefon \"bt-trx\" verwendet wird! oder Dr\u00fccken der PTT Taste oder SW1 an bt-trx. Damit wird ein eingehender Anruf simuliert, der noch am Autoradio angenommen werden muss. Nach dem Herstellen des Telefongespr\u00e4chs ist die Audioverbindung Autoradio <-> Funkger\u00e4t hergestellt und die gr\u00fcne LED blinkt . Nun kann durch Dr\u00fccken des PTT-Tasters auf der im Funkger\u00e4t eingestellten Frequenz gesprochen werden! Falls das Adapterkabel auch die empfangene Audio vom Funkger\u00e4t \u00fcbertr\u00e4gt, sollte diese aus den Fahrzeuglautsprechern h\u00f6rbar sein. Bei der erstmaligen Verwendung mit einem Funkger\u00e4t kann es notwendig sein, die Ein- und Ausgangsaudiopegel mit Hilfe der Lautst\u00e4rkeeinstellung des Funkger\u00e4ts und/oder auf der bt-trx Platine vorhandenen Potentiometer zu justieren. Die Audioverbindung ist aktiv, solange das Telefongespr\u00e4ch l\u00e4uft. Durch Auflegen oder Dr\u00fccken des Tasters an bt-trx wird das Gespr\u00e4ch, und somit auch die Audio-Verbindung zum Funkger\u00e4t beendet.","title":"Funkbetrieb"},{"location":"30_Bedienung/Funkbetrieb/#funkbetrieb","text":"","title":"Funkbetrieb"},{"location":"30_Bedienung/Funkbetrieb/#herstellen-der-bluetooth-verbindung-zum-autoradio-oder-headset","text":"bt-trx beginnt nach dem Start selbstst\u00e4ndig, nach geeigneten Ger\u00e4ten f\u00fcr die Bluetoothverbindung zu suchen und eine Verbindung herzustellen. Es wird nur eine Verbindung mit Ger\u00e4ten hergestellt, die das \"HFP\"-Profil unterst\u00fctzen (Autoradios, bestimmte Headsets). Eine (ungewollte) Verbindung mit einem Smartphone kann daher nicht passieren. Info: Die Verbindung zu einfachen Bluetooth-Headsets \u00fcber das \"HSP\"-Profil wird aktuell noch nicht unterst\u00fctzt, ist aber m\u00f6glich und wird in einer der kommenden Firmware-Versionen eingebaut werden. Es kann notwendig sein, das Autoradio zum Verbindungsaufbau in den Bluetooth-Pairingmodus zu versetzen, um es f\u00fcr bt-trx sichtbar zu machen. In der Regel geschieht dies \u00fcber einen Men\u00fcpunkt \"Neues Bluetooth-Ger\u00e4t hinzuf\u00fcgen\" o.\u00e4.. Sobald die Verbindung einmal erfolgeich hergestellt wurde, sollten sich die beiden Ger\u00e4te beim n\u00e4chsten Start des bt-trx, bzw. des Fahrzeugs automatisch miteinander verbinden. Die beiden Status-LEDs (gr\u00fcn und blau) liefern folgende Informationen: Aktivit\u00e4t-LED (gr\u00fcn) Bluetooth-LED (blau) Status aus blinkt BT-Verbindungssuche aus an BT-Verbindung hergestellt blinkt an Audio-Verbindung hergestellt","title":"Herstellen der Bluetooth-Verbindung zum Autoradio oder Headset"},{"location":"30_Bedienung/Funkbetrieb/#herstellen-der-audio-verbindung","text":"Um die Audio-Verbindung herstellen zu k\u00f6nnen, muss die Bluetooth-Verbindung (blaue LED leuchtet) hergestellt sein. Die Audioverbindung wird mittels eines simulierten Telefongespr\u00e4chs hergestellt, denn bt-trx verh\u00e4lt sich gegen\u00fcber dem Autoradio wie ein Mobiltelefon. Der Telefonanruf kann \u00fcber drei Wege hergestellt werden: T\u00e4tigen eines Anrufs an eine beliebige Rufnummer (eine Ziffer gen\u00fcgt) aus dem Telefonmen\u00fc des Autoradios heraus. bt-trx nimmt den ausgehenden Anruf automatisch an. Wichtig: Falls das Autoradio mehrere gleichzeitige Bluetooth-Verbindungen unterst\u00fctzt, muss sichergestellt werden, dass das Telefon \"bt-trx\" verwendet wird! oder Dr\u00fccken der PTT Taste oder SW1 an bt-trx. Damit wird ein eingehender Anruf simuliert, der noch am Autoradio angenommen werden muss. Nach dem Herstellen des Telefongespr\u00e4chs ist die Audioverbindung Autoradio <-> Funkger\u00e4t hergestellt und die gr\u00fcne LED blinkt . Nun kann durch Dr\u00fccken des PTT-Tasters auf der im Funkger\u00e4t eingestellten Frequenz gesprochen werden! Falls das Adapterkabel auch die empfangene Audio vom Funkger\u00e4t \u00fcbertr\u00e4gt, sollte diese aus den Fahrzeuglautsprechern h\u00f6rbar sein. Bei der erstmaligen Verwendung mit einem Funkger\u00e4t kann es notwendig sein, die Ein- und Ausgangsaudiopegel mit Hilfe der Lautst\u00e4rkeeinstellung des Funkger\u00e4ts und/oder auf der bt-trx Platine vorhandenen Potentiometer zu justieren. Die Audioverbindung ist aktiv, solange das Telefongespr\u00e4ch l\u00e4uft. Durch Auflegen oder Dr\u00fccken des Tasters an bt-trx wird das Gespr\u00e4ch, und somit auch die Audio-Verbindung zum Funkger\u00e4t beendet.","title":"Herstellen der Audio-Verbindung"},{"location":"30_Bedienung/Inbetriebnahme/","text":"Inbetriebnahme \u00b6 1. Anschluss des Funkger\u00e4ts \u00b6 Der Anschluss ans Funkger\u00e4t erfolgt in der Regel \u00fcber ein Adapterkabel . 2. Anschluss einer PTT-Taste \u00b6 Der Anschluss einer PTT-Taste kann drahtgebunden oder kabellos (\u00fcber Bluetooth Low Energy erfolgen). Es ist auch m\u00f6glich, beide Varianten gleichzeitig zu nutzen. Hinweis zum PTT-select Jumper J5 Der Jumper J5 muss f\u00fcr den Funkbetrieb in jedem Fall gesteckt sein. Er entscheidet, ob der PTT Taster direkt zum Transceiver durchgeschleift wird (Stellung \"BTN\", Pins 1-2 verbunden), oder ob der ESP32 das PTT Signal erzeugt (Stellung \"uC\", Pins 2-3 verbunden). Dies wird ben\u00f6tigt f\u00fcr \"Soft-PTT\" Funktionen und f\u00fcr die Nutzung eines BLE PTT Buttons. Drahtgebunden \u00b6 Eine PTT-Taste kann direkt in das bt-trx Geh\u00e4use integriert (Kontakte J2), oder an die Klinkenbuchse (J3) angeschlossen werden. BLE (Bluetooth Low Energy) PTT Button \u00b6 Nachdem bt-trx gestartet ist, kann durch einen einmaliges Dr\u00fccken auf den PTT Button die Verbindung mit bt-trx hergestellt werden. Der BLE PTT Button verh\u00e4lt sich wie ein normaler PTT Taster. Jumper J5 Um den BLE PTT Button nutzen zu k\u00f6nnen, muss Jumper J5 auf Stellung \"uC\" sein. 3. Anschluss an die Spannungsversorgung \u00b6 Nach dem Herstellen der Spannungsversorgung leuchtet die bernsteinfarbene LED (zeigt 3.3 V Betriebsspannung des ESP32 und des BT-Moduls an), bt-trx startet automatisch.","title":"Inbetriebnahme"},{"location":"30_Bedienung/Inbetriebnahme/#inbetriebnahme","text":"","title":"Inbetriebnahme"},{"location":"30_Bedienung/Inbetriebnahme/#1-anschluss-des-funkgerats","text":"Der Anschluss ans Funkger\u00e4t erfolgt in der Regel \u00fcber ein Adapterkabel .","title":"1. Anschluss des Funkger\u00e4ts"},{"location":"30_Bedienung/Inbetriebnahme/#2-anschluss-einer-ptt-taste","text":"Der Anschluss einer PTT-Taste kann drahtgebunden oder kabellos (\u00fcber Bluetooth Low Energy erfolgen). Es ist auch m\u00f6glich, beide Varianten gleichzeitig zu nutzen. Hinweis zum PTT-select Jumper J5 Der Jumper J5 muss f\u00fcr den Funkbetrieb in jedem Fall gesteckt sein. Er entscheidet, ob der PTT Taster direkt zum Transceiver durchgeschleift wird (Stellung \"BTN\", Pins 1-2 verbunden), oder ob der ESP32 das PTT Signal erzeugt (Stellung \"uC\", Pins 2-3 verbunden). Dies wird ben\u00f6tigt f\u00fcr \"Soft-PTT\" Funktionen und f\u00fcr die Nutzung eines BLE PTT Buttons.","title":"2. Anschluss einer PTT-Taste"},{"location":"30_Bedienung/Inbetriebnahme/#drahtgebunden","text":"Eine PTT-Taste kann direkt in das bt-trx Geh\u00e4use integriert (Kontakte J2), oder an die Klinkenbuchse (J3) angeschlossen werden.","title":"Drahtgebunden"},{"location":"30_Bedienung/Inbetriebnahme/#ble-bluetooth-low-energy-ptt-button","text":"Nachdem bt-trx gestartet ist, kann durch einen einmaliges Dr\u00fccken auf den PTT Button die Verbindung mit bt-trx hergestellt werden. Der BLE PTT Button verh\u00e4lt sich wie ein normaler PTT Taster. Jumper J5 Um den BLE PTT Button nutzen zu k\u00f6nnen, muss Jumper J5 auf Stellung \"uC\" sein.","title":"BLE (Bluetooth Low Energy) PTT Button"},{"location":"30_Bedienung/Inbetriebnahme/#3-anschluss-an-die-spannungsversorgung","text":"Nach dem Herstellen der Spannungsversorgung leuchtet die bernsteinfarbene LED (zeigt 3.3 V Betriebsspannung des ESP32 und des BT-Moduls an), bt-trx startet automatisch.","title":"3. Anschluss an die Spannungsversorgung"},{"location":"30_Bedienung/Konfiguration/","text":"Konfiguration \u00b6 WLAN-Modus Daf\u00fcr muss bt-trx in den WLAN-Modus versetzt werden. Hierzu h\u00e4lt man SW1 w\u00e4hrend des Starts von bt-trx f\u00fcr 5 Sekunden lang gedr\u00fcckt. Wenn der WLAN-Modus erfolgreich gestartet wurde, blinken die beiden Status-LEDs kurz gleichzeitig. Nun kann man sich mit dem Computer oder dem Smartphone mit dem WLAN \"bt-trx\" verbinden (Password: \"bt-trx73\"). Sobald man sich verbunden hat, kann man das bt-trx Modul mit einem Browser unter http://bt-trx.local oder http://192.168.4.1 erreichen. Javascript notwendig Um das Webinterface zu nutzen, muss im Browser Javascript aktiviert sein. BLE im WLAN-Modus nicht verf\u00fcgbar W\u00e4hrend der WLAN-Modus aktiv ist, kann keine Verbindung mit einem BLE PTT Button hergestellt werden. BLE ist w\u00e4hrenddessen deaktiviert. Einstellm\u00f6glichkeiten \u00b6 Identification \u00b6 Mit diesem Eingabefeld kann das eigene Rufzeichen angegeben werden. Dieses wird dann f\u00fcr die Benamung der WLAN SSID und des Bluetooth Namens des bt-trx verwendet. Audio \u00b6 ADC Gain \u00b6 Hier kann die Verst\u00e4rkung des Audio-Signals vom Transceiver eingestellt werden (-27...+39 dB). DAC Gain \u00b6 Hier kann die Verst\u00e4rkung des Audio-Signals zum Transceiver eingestellt werden (-42...+24 dB). PTT \u00b6 Info F\u00fcr alle nachfolgenden PTT Features muss Jumper J5 auf \"uC\" gesetzt sein (\"Soft-PTT Modus\"). PTT Mode \u00b6 Direct Wenn diese Option aktiviert ist, wird PTT aktiviert, solange die PTT Taste gedr\u00fcckt ist. Toggle Wenn diese Option aktiviert ist, wird PTT beim einmaligen Dr\u00fccken so lange aktiviert, bis es durch nochmaliges Dr\u00fccken der PTT Taste wieder deaktiviert wird. Willimode In diesem Modus ist das Verhalten des Hardware-PTT Tasters folgenderma\u00dfen: L\u00e4nger als 1 sek halten: Nichts passiert K\u00fcrzer als 1 sek halten: PTT wird getoggelt Bluetooth PTT Taste verh\u00e4lt sich wie im Toggle Mode. PTT Timeout \u00b6 Legt fest, wie lange PTT am St\u00fcck aktiviert werden kann (\"maximum time of transmit\"). Erlaubte Werte: 1-9 Minuten (0 deaktiviert den Timeout). PTT Hang Time \u00b6 Zeit, die PTT nach Loslassen der PTT Taste noch aktiv bleibt, um die Signalverz\u00f6gerung der Freisprecheinrichtung auszugleichen. Bluetooth \u00b6 Bluetooth PIN Code \u00b6 In der Regel ist f\u00fcr das Bluetooth Pairing keine Eingabe einer PIN erforderlich. Der angezeigte PIN Code kann einfach best\u00e4tigt werden. Manche Ger\u00e4te verlangen die Eingabe eines vorgegebenen, 4-stelligen PIN Codes (siehe Kommentare in der Kompatibilit\u00e4tsliste ). Hier kann der vorgegebene Code eingegeben werden. Falls bereits ein Versuch mit falscher PIN stattgefunden hat, sollten mit dem Button \"Reset Bluetooth Pairings\" (siehe unten) die Pairings im bt-trx zur\u00fcckgesetzt werden, um einen sauberen neuen Versuch zu starten. Reset Bluetooth Pairings \u00b6 Mit dieser Schaltfl\u00e4che k\u00f6nnen alle bisherigen Bluetooth Pairings im bt-trx gel\u00f6scht werden. Ein Neustart ist notwendig, damit die \u00c4nderungen aktiv werden.","title":"Konfiguration"},{"location":"30_Bedienung/Konfiguration/#konfiguration","text":"WLAN-Modus Daf\u00fcr muss bt-trx in den WLAN-Modus versetzt werden. Hierzu h\u00e4lt man SW1 w\u00e4hrend des Starts von bt-trx f\u00fcr 5 Sekunden lang gedr\u00fcckt. Wenn der WLAN-Modus erfolgreich gestartet wurde, blinken die beiden Status-LEDs kurz gleichzeitig. Nun kann man sich mit dem Computer oder dem Smartphone mit dem WLAN \"bt-trx\" verbinden (Password: \"bt-trx73\"). Sobald man sich verbunden hat, kann man das bt-trx Modul mit einem Browser unter http://bt-trx.local oder http://192.168.4.1 erreichen. Javascript notwendig Um das Webinterface zu nutzen, muss im Browser Javascript aktiviert sein. BLE im WLAN-Modus nicht verf\u00fcgbar W\u00e4hrend der WLAN-Modus aktiv ist, kann keine Verbindung mit einem BLE PTT Button hergestellt werden. BLE ist w\u00e4hrenddessen deaktiviert.","title":"Konfiguration"},{"location":"30_Bedienung/Konfiguration/#einstellmoglichkeiten","text":"","title":"Einstellm\u00f6glichkeiten"},{"location":"30_Bedienung/Konfiguration/#identification","text":"Mit diesem Eingabefeld kann das eigene Rufzeichen angegeben werden. Dieses wird dann f\u00fcr die Benamung der WLAN SSID und des Bluetooth Namens des bt-trx verwendet.","title":"Identification"},{"location":"30_Bedienung/Konfiguration/#audio","text":"","title":"Audio"},{"location":"30_Bedienung/Konfiguration/#adc-gain","text":"Hier kann die Verst\u00e4rkung des Audio-Signals vom Transceiver eingestellt werden (-27...+39 dB).","title":"ADC Gain"},{"location":"30_Bedienung/Konfiguration/#dac-gain","text":"Hier kann die Verst\u00e4rkung des Audio-Signals zum Transceiver eingestellt werden (-42...+24 dB).","title":"DAC Gain"},{"location":"30_Bedienung/Konfiguration/#ptt","text":"Info F\u00fcr alle nachfolgenden PTT Features muss Jumper J5 auf \"uC\" gesetzt sein (\"Soft-PTT Modus\").","title":"PTT"},{"location":"30_Bedienung/Konfiguration/#ptt-mode","text":"Direct Wenn diese Option aktiviert ist, wird PTT aktiviert, solange die PTT Taste gedr\u00fcckt ist. Toggle Wenn diese Option aktiviert ist, wird PTT beim einmaligen Dr\u00fccken so lange aktiviert, bis es durch nochmaliges Dr\u00fccken der PTT Taste wieder deaktiviert wird. Willimode In diesem Modus ist das Verhalten des Hardware-PTT Tasters folgenderma\u00dfen: L\u00e4nger als 1 sek halten: Nichts passiert K\u00fcrzer als 1 sek halten: PTT wird getoggelt Bluetooth PTT Taste verh\u00e4lt sich wie im Toggle Mode.","title":"PTT Mode"},{"location":"30_Bedienung/Konfiguration/#ptt-timeout","text":"Legt fest, wie lange PTT am St\u00fcck aktiviert werden kann (\"maximum time of transmit\"). Erlaubte Werte: 1-9 Minuten (0 deaktiviert den Timeout).","title":"PTT Timeout"},{"location":"30_Bedienung/Konfiguration/#ptt-hang-time","text":"Zeit, die PTT nach Loslassen der PTT Taste noch aktiv bleibt, um die Signalverz\u00f6gerung der Freisprecheinrichtung auszugleichen.","title":"PTT Hang Time"},{"location":"30_Bedienung/Konfiguration/#bluetooth","text":"","title":"Bluetooth"},{"location":"30_Bedienung/Konfiguration/#bluetooth-pin-code","text":"In der Regel ist f\u00fcr das Bluetooth Pairing keine Eingabe einer PIN erforderlich. Der angezeigte PIN Code kann einfach best\u00e4tigt werden. Manche Ger\u00e4te verlangen die Eingabe eines vorgegebenen, 4-stelligen PIN Codes (siehe Kommentare in der Kompatibilit\u00e4tsliste ). Hier kann der vorgegebene Code eingegeben werden. Falls bereits ein Versuch mit falscher PIN stattgefunden hat, sollten mit dem Button \"Reset Bluetooth Pairings\" (siehe unten) die Pairings im bt-trx zur\u00fcckgesetzt werden, um einen sauberen neuen Versuch zu starten.","title":"Bluetooth PIN Code"},{"location":"30_Bedienung/Konfiguration/#reset-bluetooth-pairings","text":"Mit dieser Schaltfl\u00e4che k\u00f6nnen alle bisherigen Bluetooth Pairings im bt-trx gel\u00f6scht werden. Ein Neustart ist notwendig, damit die \u00c4nderungen aktiv werden.","title":"Reset Bluetooth Pairings"},{"location":"30_Bedienung/Troubleshooting/","text":"Troubleshooting \u00b6 dev-board v4.1 \u00b6 PTT auf Dauersendung wenn bt-trx stromlos ist \u00b6 Bei manchen Funkger\u00e4ten (z.B. Yaesu FTM-350, Yaesu FT-8800) wird PTT auf Dauer-An interpretiert, sobald bt-trx stromlos ist. Dies kann behoben werden, indem bei der PTT Leitung ein 39 kOhm Widerstand in Reihe geschaltet wird. Dies sollte bei allen Ger\u00e4ten mit MC-48 Abhilfe schaffen. (Danke, Dirk!) St\u00f6rger\u00e4usch/Brummen auf Tx NF Audio \u00b6 Bei manchen Funkger\u00e4ten bzw. Setups kann es bei der Tx NF Audio zu St\u00f6rger\u00e4uschen kommen. Folgende Punkte k\u00f6nnen einzeln oder in Kombination f\u00fcr Abhilfe sorgen: Versorgung \u00fcber USB (ggf. aus Akkupack) Separate Masseleitung von TP8 (Audio-Out Gnd) zum Transceiver-Geh\u00e4use Separate Verkabelung von PTT \u00fcber Relais/Optokoppler","title":"Troubleshooting"},{"location":"30_Bedienung/Troubleshooting/#troubleshooting","text":"","title":"Troubleshooting"},{"location":"30_Bedienung/Troubleshooting/#dev-board-v41","text":"","title":"dev-board v4.1"},{"location":"30_Bedienung/Troubleshooting/#ptt-auf-dauersendung-wenn-bt-trx-stromlos-ist","text":"Bei manchen Funkger\u00e4ten (z.B. Yaesu FTM-350, Yaesu FT-8800) wird PTT auf Dauer-An interpretiert, sobald bt-trx stromlos ist. Dies kann behoben werden, indem bei der PTT Leitung ein 39 kOhm Widerstand in Reihe geschaltet wird. Dies sollte bei allen Ger\u00e4ten mit MC-48 Abhilfe schaffen. (Danke, Dirk!)","title":"PTT auf Dauersendung wenn bt-trx stromlos ist"},{"location":"30_Bedienung/Troubleshooting/#storgerauschbrummen-auf-tx-nf-audio","text":"Bei manchen Funkger\u00e4ten bzw. Setups kann es bei der Tx NF Audio zu St\u00f6rger\u00e4uschen kommen. Folgende Punkte k\u00f6nnen einzeln oder in Kombination f\u00fcr Abhilfe sorgen: Versorgung \u00fcber USB (ggf. aus Akkupack) Separate Masseleitung von TP8 (Audio-Out Gnd) zum Transceiver-Geh\u00e4use Separate Verkabelung von PTT \u00fcber Relais/Optokoppler","title":"St\u00f6rger\u00e4usch/Brummen auf Tx NF Audio"},{"location":"40_Entwicklung/Debugschnittstelle/","text":"Debugschnittstelle \u00b6 Allgemeines \u00b6 Der ESP32 stellt bei Anschluss per USB an einen Computer mit eine serielle Schnittstelle zur Verf\u00fcgung. \u00dcber die serielle Schnittstelle werden Logausgaben w\u00e4hrend des laufenden Betriebs ausgegeben. Eine Steuerung von bt-trx ist dar\u00fcber nicht m\u00f6glich. Allerdings sind diese Daten sehr wichtig zur Identifikation und Behebung von (Verbindungs-)problemen. Nach M\u00f6glichkeit sollte bei jeder Support-Anfrage das Log der seriellen Debugschnittstelle mitgeschickt werden. Parameter f\u00fcr die serielle Verbindung \u00b6 Tip Unter Windows und macOS sind daf\u00fcr eventuell Treiber notwendig. Weitere Hinweise zum Herstellen der Verbindung findet man auf der Herstellerseite des ESP32 . Baud rate: 115200 Data bits = 8 Stop bits = 1 Parity = N Beispiel f\u00fcr Ausgaben auf der Debugschnittstelle \u00b6 bt-trx Hardware: dev-board v4.1 bt-trx Firmware: v0.2.0 > AT < WRAP THOR AI (6.1.0 build 1022) < Copyright (c) 2003-2015 Bluegiga Technologies Inc. < READY. ERROR: can't reach WT32i module > AT < OK STATE: CONFIGURE > SET BT BDADDR < SET BT BDADDR 88:6b:0f:ee:6d:fb > SET BT NAME bt-trx-ee6dfb > SET PROFILE HFP-AG ON > SET BT CLASS 400204 > SET BT SSP 1 0 > SET BT FILTER 200400 200400 > SET BT AUTH * 0000 > SET CONTROL CONFIG 0001 0000 00A0 1100 > SET CONTROL ECHO 5 > SET CONTROL GAIN 8 10 STATE: INQUIRY > INQUIRY 5 NAME ... ...","title":"Debugschnittstelle"},{"location":"40_Entwicklung/Debugschnittstelle/#debugschnittstelle","text":"","title":"Debugschnittstelle"},{"location":"40_Entwicklung/Debugschnittstelle/#allgemeines","text":"Der ESP32 stellt bei Anschluss per USB an einen Computer mit eine serielle Schnittstelle zur Verf\u00fcgung. \u00dcber die serielle Schnittstelle werden Logausgaben w\u00e4hrend des laufenden Betriebs ausgegeben. Eine Steuerung von bt-trx ist dar\u00fcber nicht m\u00f6glich. Allerdings sind diese Daten sehr wichtig zur Identifikation und Behebung von (Verbindungs-)problemen. Nach M\u00f6glichkeit sollte bei jeder Support-Anfrage das Log der seriellen Debugschnittstelle mitgeschickt werden.","title":"Allgemeines"},{"location":"40_Entwicklung/Debugschnittstelle/#parameter-fur-die-serielle-verbindung","text":"Tip Unter Windows und macOS sind daf\u00fcr eventuell Treiber notwendig. Weitere Hinweise zum Herstellen der Verbindung findet man auf der Herstellerseite des ESP32 . Baud rate: 115200 Data bits = 8 Stop bits = 1 Parity = N","title":"Parameter f\u00fcr die serielle Verbindung"},{"location":"40_Entwicklung/Debugschnittstelle/#beispiel-fur-ausgaben-auf-der-debugschnittstelle","text":"bt-trx Hardware: dev-board v4.1 bt-trx Firmware: v0.2.0 > AT < WRAP THOR AI (6.1.0 build 1022) < Copyright (c) 2003-2015 Bluegiga Technologies Inc. < READY. ERROR: can't reach WT32i module > AT < OK STATE: CONFIGURE > SET BT BDADDR < SET BT BDADDR 88:6b:0f:ee:6d:fb > SET BT NAME bt-trx-ee6dfb > SET PROFILE HFP-AG ON > SET BT CLASS 400204 > SET BT SSP 1 0 > SET BT FILTER 200400 200400 > SET BT AUTH * 0000 > SET CONTROL CONFIG 0001 0000 00A0 1100 > SET CONTROL ECHO 5 > SET CONTROL GAIN 8 10 STATE: INQUIRY > INQUIRY 5 NAME ... ...","title":"Beispiel f\u00fcr Ausgaben auf der Debugschnittstelle"},{"location":"40_Entwicklung/Flashen%20der%20Firmware%20%C3%BCber%20USB/","text":"Flashen der Firmware \u00fcber USB \u00b6 Zum erstmaligen Aufspielen der Partitionstabelle und der Firmware auf einen ESP32. Das erstmalige Aufspielen der Firmware auf den ESP32 Controller muss \u00fcber USB erfolgen, da die Partitionstabelle nur \u00fcber USB geschrieben werden kann. Alle weiteren Updates k\u00f6nnen \u00fcber das Webinterface erfolgen. Bei den ESP32 in den Baus\u00e4tzen ist die Partitionstabelle und die aktuellste verf\u00fcgbare Firmware bereits aufgespielt. Updates k\u00f6nnen \u00fcber das Webinterface erfolgen und untenstehende Schritte sind nicht notwendig. Windows \u00b6 Herunterladen der aktuellen bt-trx Dateien von Github . F\u00fcr das initiale Aufspielen ist die Partitions-Datei und die Firmware-Datei notwendig (z.B. bt-trx_partitions_0.3.0.bin und bt-trx_firmware_0.3.0.bin ). Download des ESP32 Flashtools von der espressif Homepage (Direktlink: Version 3.6.7 ) Anschlie\u00dfen des ESP32 mit Micro-USB-Kabel an den Computer Starten des Tools im \"ESP32 Download\" Modus Einstellen folgender Parameter im Reiter \"SPIDownload\": Einstellen der hochzuladenden Dateien und der Zieladressen, sowie Ankreuzen der der beiden Zeilen. Die Partitions-Datei muss auf Adresse 0x8000 geschrieben werden. Die Firmware-Datei muss auf Adresse 0x10000 geschrieben werden. Zum Beispiel: [x] bt-trx_esp32_partitions_0.3.0.bin @ 0x8000 [x] bt-trx_esp32_firmware_0.3.0.bin @ 0x010000 SPI Speed: 80 MHz COM-Port des ESP32 einstellen, Baudrate: 460800 Mit Klick auf \"START\" beginnt der Flashvorgang. Der Fortschritt wird mit einem gr\u00fcnen Balken angezeigt. Nach Ende des Flashvorgangs wird \"FINISHED\" angezeigt.","title":"Flashen der Firmware \u00fcber USB"},{"location":"40_Entwicklung/Flashen%20der%20Firmware%20%C3%BCber%20USB/#flashen-der-firmware-uber-usb","text":"Zum erstmaligen Aufspielen der Partitionstabelle und der Firmware auf einen ESP32. Das erstmalige Aufspielen der Firmware auf den ESP32 Controller muss \u00fcber USB erfolgen, da die Partitionstabelle nur \u00fcber USB geschrieben werden kann. Alle weiteren Updates k\u00f6nnen \u00fcber das Webinterface erfolgen. Bei den ESP32 in den Baus\u00e4tzen ist die Partitionstabelle und die aktuellste verf\u00fcgbare Firmware bereits aufgespielt. Updates k\u00f6nnen \u00fcber das Webinterface erfolgen und untenstehende Schritte sind nicht notwendig.","title":"Flashen der Firmware \u00fcber USB"},{"location":"40_Entwicklung/Flashen%20der%20Firmware%20%C3%BCber%20USB/#windows","text":"Herunterladen der aktuellen bt-trx Dateien von Github . F\u00fcr das initiale Aufspielen ist die Partitions-Datei und die Firmware-Datei notwendig (z.B. bt-trx_partitions_0.3.0.bin und bt-trx_firmware_0.3.0.bin ). Download des ESP32 Flashtools von der espressif Homepage (Direktlink: Version 3.6.7 ) Anschlie\u00dfen des ESP32 mit Micro-USB-Kabel an den Computer Starten des Tools im \"ESP32 Download\" Modus Einstellen folgender Parameter im Reiter \"SPIDownload\": Einstellen der hochzuladenden Dateien und der Zieladressen, sowie Ankreuzen der der beiden Zeilen. Die Partitions-Datei muss auf Adresse 0x8000 geschrieben werden. Die Firmware-Datei muss auf Adresse 0x10000 geschrieben werden. Zum Beispiel: [x] bt-trx_esp32_partitions_0.3.0.bin @ 0x8000 [x] bt-trx_esp32_firmware_0.3.0.bin @ 0x010000 SPI Speed: 80 MHz COM-Port des ESP32 einstellen, Baudrate: 460800 Mit Klick auf \"START\" beginnt der Flashvorgang. Der Fortschritt wird mit einem gr\u00fcnen Balken angezeigt. Nach Ende des Flashvorgangs wird \"FINISHED\" angezeigt.","title":"Windows"},{"location":"40_Entwicklung/Hardware/","text":"Hardware \u00b6 Entwicklungsumgebung \u00b6 Der Schaltplan sowie das PCB wurden mit KiCAD (Version 5.1) enwickelt. Schaltplan und PCB \u00b6 Die PDF zum dev-board v5.0 k\u00f6nnen hier runtergeladen werden Schaltplan PCB top Layer PCB bottom Layer Testpunkte \u00b6 Die folgenden Testpunkte k\u00f6nnen z.B. zum Einstellen von Pegeln verwendet werden. TP1 MIC GND TP2 WT32i - SPK_LN TP3 WT32i - SPK_LP TP4 WT32i - MIC_LP TP5 WT32i - MIC_LN TP6 J1 - MIC (Audio OUT) TP7 J1 - SPK (Audio IN) TP8 TRX GND TPp PWR GND Trimmer \u00b6 RV2 Pegel MIC (Audio OUT) (im Kit nicht best\u00fcckt!) RV3 Pegel SPK (Audio IN) L\u00f6tbr\u00fccke \u00b6 JP1 Br\u00fccke wenn RV2 nicht best\u00fcckt (im Kit gesetzt) Interne Sockel \u00b6 J2 PTT Button J5 Jumper f\u00fcr PTT OUT \u00b5C: ESP32 setzt PTT (standard) BTN: BTT Button wird direkt zum Funkger\u00e4t druchgeschleift J6 I\u00b2C Bus ESP32 (wird aktuell nicht verwendet) J7 Anschluss f\u00fcr SW1, falls dieser nach au\u00dfen gef\u00fchrt werden muss J8 Zus\u00e4tzliche Serielle Schnittstelle zum ESP (3.3V Pegel) f\u00fcr z.B. CAT J9 Sockel f\u00fcr Jumper Modul, WT32i seitig J10 Sockel f\u00fcr Jumper Modul, TRX seitig J11 Herausf\u00fchrung des ADC Pins des ESP, f\u00fcr zuk\u00fcnftige Erweiterungen (z.B. Squelch) J12 Abgriff des Audio IN Signals, f\u00fcr zuk\u00fcnftige Erweiterungen (z.B. Squelch)","title":"Hardware"},{"location":"40_Entwicklung/Hardware/#hardware","text":"","title":"Hardware"},{"location":"40_Entwicklung/Hardware/#entwicklungsumgebung","text":"Der Schaltplan sowie das PCB wurden mit KiCAD (Version 5.1) enwickelt.","title":"Entwicklungsumgebung"},{"location":"40_Entwicklung/Hardware/#schaltplan-und-pcb","text":"Die PDF zum dev-board v5.0 k\u00f6nnen hier runtergeladen werden Schaltplan PCB top Layer PCB bottom Layer","title":"Schaltplan und PCB"},{"location":"40_Entwicklung/Hardware/#testpunkte","text":"Die folgenden Testpunkte k\u00f6nnen z.B. zum Einstellen von Pegeln verwendet werden. TP1 MIC GND TP2 WT32i - SPK_LN TP3 WT32i - SPK_LP TP4 WT32i - MIC_LP TP5 WT32i - MIC_LN TP6 J1 - MIC (Audio OUT) TP7 J1 - SPK (Audio IN) TP8 TRX GND TPp PWR GND","title":"Testpunkte"},{"location":"40_Entwicklung/Hardware/#trimmer","text":"RV2 Pegel MIC (Audio OUT) (im Kit nicht best\u00fcckt!) RV3 Pegel SPK (Audio IN)","title":"Trimmer"},{"location":"40_Entwicklung/Hardware/#lotbrucke","text":"JP1 Br\u00fccke wenn RV2 nicht best\u00fcckt (im Kit gesetzt)","title":"L\u00f6tbr\u00fccke"},{"location":"40_Entwicklung/Hardware/#interne-sockel","text":"J2 PTT Button J5 Jumper f\u00fcr PTT OUT \u00b5C: ESP32 setzt PTT (standard) BTN: BTT Button wird direkt zum Funkger\u00e4t druchgeschleift J6 I\u00b2C Bus ESP32 (wird aktuell nicht verwendet) J7 Anschluss f\u00fcr SW1, falls dieser nach au\u00dfen gef\u00fchrt werden muss J8 Zus\u00e4tzliche Serielle Schnittstelle zum ESP (3.3V Pegel) f\u00fcr z.B. CAT J9 Sockel f\u00fcr Jumper Modul, WT32i seitig J10 Sockel f\u00fcr Jumper Modul, TRX seitig J11 Herausf\u00fchrung des ADC Pins des ESP, f\u00fcr zuk\u00fcnftige Erweiterungen (z.B. Squelch) J12 Abgriff des Audio IN Signals, f\u00fcr zuk\u00fcnftige Erweiterungen (z.B. Squelch)","title":"Interne Sockel"},{"location":"40_Entwicklung/Software/","text":"Software \u00b6 Entwicklungsumgebung \u00b6 Die ESP32 Firmware ist in C++ mit dem Arduino-Framework geschrieben. Als Build-Umgebung wird PlatformIO verwendet (z.B. Visual Studio Code mit PlatformIO Plugin). Erstellen eines Firmware Binaries \u00b6 Downloaden des Quellcodes von Github oder clonen des Repositories mit git clone https://github.com/bt-trx/firmware.git Danach wechseln in das Verzeichnis des Quellcodes und compilieren der Firmware cd firmware platformio run Das erstelle Firmware-Binary ist dann unter .pio/build/esp/firmware.bin zu finden. Alternativ kann die Firmware direkt auf einen angesteckten ESP32 geladen werden: platformio run --target upload Falls der voreingestellte Port f\u00fcr den CP2102 nicht stimmt, kann ein anderer Port mittels Paramter \u00fcbergeben werden. Zum Beispiel: platformio run --target upload --upload-port /dev/ttyUSB4 Styleguide \u00b6 Es sollte sich an den Google-Styleguide f\u00fcr C++ gehalten werden. Die Code-Formatierung wird mittels clang-format automatisch gewartet: ./tools/code-style.sh src/*.cpp src/*.h Unit-Tests \u00b6 Die Unit-Tests f\u00fcr die Software sind mittels gtest umgesetzt. Zur Abstrahierung der Hardware-Aufrufe werden gmock Mockups verwendet. Die Tests werden mit ./test/build.sh durchgef\u00fchrt.","title":"Software"},{"location":"40_Entwicklung/Software/#software","text":"","title":"Software"},{"location":"40_Entwicklung/Software/#entwicklungsumgebung","text":"Die ESP32 Firmware ist in C++ mit dem Arduino-Framework geschrieben. Als Build-Umgebung wird PlatformIO verwendet (z.B. Visual Studio Code mit PlatformIO Plugin).","title":"Entwicklungsumgebung"},{"location":"40_Entwicklung/Software/#erstellen-eines-firmware-binaries","text":"Downloaden des Quellcodes von Github oder clonen des Repositories mit git clone https://github.com/bt-trx/firmware.git Danach wechseln in das Verzeichnis des Quellcodes und compilieren der Firmware cd firmware platformio run Das erstelle Firmware-Binary ist dann unter .pio/build/esp/firmware.bin zu finden. Alternativ kann die Firmware direkt auf einen angesteckten ESP32 geladen werden: platformio run --target upload Falls der voreingestellte Port f\u00fcr den CP2102 nicht stimmt, kann ein anderer Port mittels Paramter \u00fcbergeben werden. Zum Beispiel: platformio run --target upload --upload-port /dev/ttyUSB4","title":"Erstellen eines Firmware Binaries"},{"location":"40_Entwicklung/Software/#styleguide","text":"Es sollte sich an den Google-Styleguide f\u00fcr C++ gehalten werden. Die Code-Formatierung wird mittels clang-format automatisch gewartet: ./tools/code-style.sh src/*.cpp src/*.h","title":"Styleguide"},{"location":"40_Entwicklung/Software/#unit-tests","text":"Die Unit-Tests f\u00fcr die Software sind mittels gtest umgesetzt. Zur Abstrahierung der Hardware-Aufrufe werden gmock Mockups verwendet. Die Tests werden mit ./test/build.sh durchgef\u00fchrt.","title":"Unit-Tests"}]}